<h2>Add a recipe</h2>

<% if @recipe.errors.any? %>
  <% @recipe.errors.full_messages.each do |msg| %>
    <p><%= msg %></p>
  <% end %>
<% end %>

<%= form_for(@recipe) do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %>
  <br />
  
  <%= f.label :description %>
  <%= f.text_area :description %>
  <br />
  
  <%= f.label :photo %>
  <%= f.file_field :photo %>
  
  <h3>Directions</h3>
  <div id="directions">
    <%= f.fields_for :directions do |direction| %>
      <%= render 'direction_fields', f: direction %>
      <div id="links">
        <%= link_to_add_association 'Add direction', f, :directions %>
      </div>
    <% end %>
  </div>
  
  <%= f.submit "Create recipe" %>
<% end %>